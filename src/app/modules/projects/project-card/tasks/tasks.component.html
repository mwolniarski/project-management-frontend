<p-toolbar>
  <div class="p-toolbar-group-start">
    <p-splitButton label="All tasks" [model]="items" styleClass="p-button-outlined p-button-warning"></p-splitButton>
  </div>
  <div class="p-toolbar-group-end">
    <p-splitButton label="List" [model]="[{label: 'Kanban'}]" styleClass="p-button-outlined p-button-warning"></p-splitButton>
    <p-button icon="pi pi-plus" styleClass="p-button-warning" (click)="createTaskGroup()" [style]="{margin: '0 20px'}"></p-button>
    <p-button icon="pi pi-filter" styleClass="p-button-rounded p-button-text"></p-button>
  </div>
</p-toolbar>

<p-treeTable [value]="taskGroups" (onNodeExpand)="onExpand($event)" (onNodeCollapse)="onCollapse($event)">
  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let column of displayedColumns">{{column}}</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
    <tr [ttRow]="rowNode">
      <td>
        <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
        <p-button icon="pi pi-plus" styleClass="p-button-rounded p-button-text" (click)="createTask(rowData.id)" *ngIf="!rowData.status"></p-button>
        {{ rowData.name }}
      </td>
      <td>{{ rowData.owner }}</td>
      <td>{{ rowData.status }}</td>
      <td>{{ rowData.startDate }}</td>
      <td>{{ rowData.dueDate }}</td>
      <td>{{ rowData.priority }}</td>
      <td>
        <p-button label="Delete" styleClass="p-button-danger p-button-text" (click)="deleteTask(rowData.id)" *ngIf="rowData.status"></p-button>
        <p-button label="Delete" styleClass="p-button-danger p-button-text" (click)="deleteTaskGroup(rowData.id)" *ngIf="!rowData.status"></p-button>
      </td>
    </tr>
  </ng-template>
</p-treeTable>
